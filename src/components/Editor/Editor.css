.editor {
    display: flex;
    flex-direction: column;
    height: 100%;
    background-color: var(--bg-main);
    color: var(--text-primary);
}

.editor-header {
    padding: 1rem 2rem;
    border-bottom: 1px solid var(--border-color);
}

.editor-title-input {
    width: 100%;
    border: none;
    font-size: 2rem;
    font-weight: 700;
    color: var(--text-primary);
    background: transparent;
    outline: none;
    margin-bottom: 0.5rem;
}

.editor-title-input::placeholder {
    color: var(--text-secondary);
}

.editor-meta-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: var(--text-secondary);
    font-size: 0.875rem;
    margin-bottom: 1rem;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.meta-divider {
    width: 1px;
    height: 14px;
    background-color: var(--border-color);
}

.meta-icon {
    color: var(--text-secondary);
}

.folder-select-wrapper {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.folder-select {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    color: var(--text-primary);
    font-size: 0.875rem;
    cursor: pointer;
    outline: none;
    padding: 2px 8px;
    /* Space for chevron if custom, but native select is fine */
}

.folder-select option {
    background-color: var(--bg-primary);
    color: var(--text-primary);
}

.tags-wrapper {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.tags-list {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.tag-pill {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.75rem;
    display: flex;
    align-items: center;
    gap: 4px;
}

.remove-tag-btn {
    background: none;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    padding: 0;
    color: var(--text-secondary);
}

.remove-tag-btn:hover {
    color: var(--accent-color);
}

.add-tag-input {
    background: transparent;
    border: none;
    color: var(--text-secondary);
    font-size: 0.875rem;
    width: 80px;
    outline: none;
}

.add-tag-input::placeholder {
    color: var(--text-muted);
}

.editor-toolbar {
    display: flex;
    align-items: center;
    padding: 0.5rem 2rem;
    border-bottom: 1px solid var(--border-color);
    background-color: var(--bg-main);
    gap: 0.5rem;
}

.toolbar-spacer {
    flex: 1;
    /* Pushes subsequent items to the right */
}

/* If user wanted EVERYTHING on the left, I can remove the spacer logic or just not use it. 
   But "Delete" usually sits apart. 
   User said: "move the buttons for the view options and note width options and delete to the left".
   This might mean ALL of them to the left. 
   Let's interpret "delete to the left" as "delete button also to the left".
   I will remove the spacer in the CSS implementation below to honor "to the left".
*/

/* .editor-toolbar .action-btn inherits default .action-btn styles */

.action-btn {
    background: transparent;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 6px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
}

.action-btn:hover {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
}

.action-btn.active {
    background-color: var(--bg-secondary);
    /* Or accent light */
    color: var(--accent-color);
}

.view-toggles {
    display: flex;
    background-color: var(--bg-secondary);
    border-radius: 6px;
    padding: 2px;
}

.trash-btn:hover {
    color: var(--danger-color);
}

.restore-btn:hover {
    color: var(--success-color);
}

.delete-forever-btn:hover {
    color: var(--danger-color);
}

.editor-body {
    flex: 1;
    overflow-y: auto;
    position: relative;
    display: flex;
    flex-direction: column;
}

.editor-body.plain-text-body {
    overflow: hidden;
    /* Let textarea scroll */
}

.editor-textarea {
    width: 100%;
    height: 100%;
    border: none;
    resize: none;
    outline: none;
    background-color: var(--bg-main);
    color: var(--text-primary);
    font-family: inherit;
    font-size: 1rem;
    line-height: 1.6;
    padding: 1rem 2rem 2rem 2rem;
}

.editor-textarea::placeholder {
    color: var(--text-muted);
}

/* Width Constraints */
.optimum-width {
    max-width: 800px;
    margin: 0 auto;
    /* Centers the content */
    width: 100%;
}

.full-width {
    width: 100%;
    max-width: 100%;
}

.editor-textarea-wrapper {
    display: flex;
    flex-direction: column;
}

.editor-empty {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100%;
    color: var(--text-muted);
}

.empty-state-content {
    text-align: center;
}

.empty-state-icon-wrapper {
    width: 80px;
    height: 80px;
    background-color: var(--bg-secondary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem auto;
}

.empty-state-icon {
    color: var(--accent-color);
}

.empty-state-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
}

.empty-state-description {
    color: var(--text-secondary);
    margin-bottom: 1.5rem;
}

.create-note-btn.large {
    padding: 0.75rem 1.5rem;
    font-size: 1rem;
    background-color: var(--accent-color);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    transition: background-color 0.2s;
}

.create-note-btn.large:hover {
    background-color: var(--accent-dark);
}

.editor-footer {
    padding: 1rem 2rem;
    border-top: 1px solid var(--border-color);
    background-color: var(--bg-secondary);
    /* Make it stick to bottom if content is short, or scroll with content? */
    /* If it's INSIDE editor-body, it scrolls with content. */
    margin-top: auto;
    /* Push to bottom if flex container allows */
    display: flex;
    gap: 2rem;
}

.link-section {
    flex: 1;
    min-width: 0;
    /* Prevent overflow */
}

.link-section+.link-section {
    border-left: 1px solid var(--border-color);
    padding-left: 2rem;
}

.linked-notes-title {
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    color: var(--text-secondary);
    margin-bottom: 0.75rem;
    letter-spacing: 0.05em;
}

.linked-notes-list {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.linked-note-pill {
    display: flex;
    align-items: center;
    gap: 6px;
    background-color: var(--bg-main);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    padding: 6px 12px;
    font-size: 0.9rem;
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.2s;
}

.linked-note-pill:hover {
    border-color: var(--accent-color);
    color: var(--accent-color);
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.linked-note-icon {
    font-size: 1rem;
    opacity: 0.7;
}

/* Markdown Preview Styles */
.markdown-preview {
    padding: 20px 40px;
    color: var(--text-primary);
    line-height: 1.6;
    overflow-y: auto;
    height: 100%;
}

.markdown-preview.optimum-width {
    max-width: 800px;
    margin: 0 auto;
}

.markdown-preview.full-width {
    max-width: 100%;
}

.markdown-preview h1,
.markdown-preview h2,
.markdown-preview h3,
.markdown-preview h4,
.markdown-preview h5,
.markdown-preview h6 {
    color: var(--text-primary);
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    font-weight: 600;
}

.markdown-preview h1 {
    font-size: 2em;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.3em;
}

.markdown-preview h2 {
    font-size: 1.5em;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.3em;
}

.markdown-preview h3 {
    font-size: 1.25em;
}

.markdown-preview p {
    margin-bottom: 1em;
}

.markdown-preview a {
    color: var(--accent-color);
    text-decoration: none;
}

.markdown-preview a:hover {
    text-decoration: underline;
}

.markdown-preview blockquote {
    border-left: 4px solid var(--accent-color);
    margin: 1em 0;
    padding-left: 1em;
    color: var(--text-secondary);
    font-style: italic;
    background: var(--hover-bg);
    padding: 10px 20px;
    border-radius: 4px;
}

.markdown-preview ul,
.markdown-preview ol {
    margin-bottom: 1em;
    padding-left: 2em;
}

.markdown-preview li {
    margin-bottom: 0.5em;
}

.markdown-preview code {
    background-color: var(--hover-bg);
    padding: 0.2em 0.4em;
    border-radius: 4px;
    font-family: 'Fira Code', monospace;
    font-size: 0.85em;
    color: var(--accent-color);
}

.markdown-preview pre {
    background-color: var(--bg-secondary);
    padding: 15px;
    border-radius: 8px;
    overflow-x: auto;
    margin-bottom: 1em;
    border: 1px solid var(--border-color);
}

.markdown-preview pre code {
    background-color: transparent;
    padding: 0;
    color: var(--text-primary);
    font-size: 0.9em;
}

.markdown-preview table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 1em;
}

.markdown-preview th,
.markdown-preview td {
    border: 1px solid var(--border-color);
    padding: 8px 12px;
    text-align: left;
}

.markdown-preview th {
    background-color: var(--bg-secondary);
    font-weight: 600;
}

.markdown-preview img {
    max-width: 100%;
    border-radius: 8px;
    margin: 1em 0;
}

.markdown-preview hr {
    border: 0;
    height: 1px;
    background: var(--border-color);
    margin: 2em 0;
}

.markdown-preview input[type="checkbox"] {
    margin-right: 8px;
    accent-color: var(--accent-color);
}

.wiki-link {
    color: var(--accent-color);
    cursor: pointer;
    font-weight: 600;
    text-decoration: none;
    background-color: var(--bg-secondary);
    padding: 0 4px;
    border-radius: 4px;
    transition: all 0.2s;
    display: inline-block;
    /* Helps with padding */
}

.wiki-link:hover {
    background-color: var(--accent-color);
    color: white;
}